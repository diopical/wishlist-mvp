# üîå API –∏ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö - –°–ø—Ä–∞–≤–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

## üìä –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### WishlistItem Interface

```typescript
interface WishlistItem {
  asin: string                          // Amazon ASIN –∏–ª–∏ custom ID –¥–ª—è —Ä—É—á–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
  title: string                         // –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
  price: string                         // –¶–µ–Ω–∞ (–ª—é–±–æ–π —Ñ–æ—Ä–º–∞—Ç: "99.99", "99.99 AED" –∏ —Ç.–¥.)
  img: string                           // URL –∏–ª–∏ base64 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  url: string                           // –û—Å–Ω–æ–≤–Ω–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ç–æ–≤–∞—Ä
  affiliate: string                     // –°—Å—ã–ª–∫–∞ –¥–ª—è –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏—Ö –ø—Ä–æ–≥—Ä–∞–º–º
  alternativeLinks?: AlternativeLink[]  // –ú–∞—Å—Å–∏–≤ —Å—Å—ã–ª–æ–∫ –Ω–∞ –¥—Ä—É–≥–∏–µ –º–∞–≥–∞–∑–∏–Ω—ã
  comment?: string                      // üÜï –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π/–ø–æ–∂–µ–ª–∞–Ω–∏–µ –∫ —Ç–æ–≤–∞—Ä—É
  isManual?: boolean                    // üÜï –§–ª–∞–≥ —Ä—É—á–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞
}

interface AlternativeLink {
  store: string                         // –ù–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞ (noon, amazon.ae, –∏ —Ç.–¥.)
  url: string                           // –°—Å—ã–ª–∫–∞ –Ω–∞ —Ç–æ–≤–∞—Ä
  price?: string                        // –¶–µ–Ω–∞ –≤ —ç—Ç–æ–º –º–∞–≥–∞–∑–∏–Ω–µ
  img?: string                          // –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
  matchScore?: number                   // –û—Ü–µ–Ω–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è (0-100%)
}
```

---

## üéÆ –§—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞–º–∏

### 1. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Å—ã–ª–∫–∏

```typescript
const saveEditedUrl = async (asin: string) => {
  setTempItems(prev => prev.map(item =>
    item.asin === asin 
      ? { ...item, url: editUrlValue.trim(), affiliate: editUrlValue.trim() }
      : item
  ))
  setChangedItems(prev => new Set(prev).add(asin))
  setEditingUrl(null)
  // –¢—Ä–µ–±—É–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ saveItems()
}
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `asin` (string) - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–æ–≤–∞—Ä–∞

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –û–±–Ω–æ–≤–ª—è–µ—Ç –æ—Å–Ω–æ–≤–Ω—É—é —Å—Å—ã–ª–∫—É —Ç–æ–≤–∞—Ä–∞
- –ú–∞—Ä–∫–∏—Ä—É–µ—Ç —Ç–æ–≤–∞—Ä –∫–∞–∫ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–π
- –¢—Ä–µ–±—É–µ—Ç —è–≤–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

### 2. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è

```typescript
const saveComment = (asin: string) => {
  setTempItems(prev => prev.map(item =>
    item.asin === asin 
      ? { ...item, comment: commentValue.trim() || undefined }
      : item
  ))
  setChangedItems(prev => new Set(prev).add(asin))
  setEditingComment(null)
}
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `asin` (string) - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–æ–≤–∞—Ä–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** undefined (—Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ React hooks)

**–ó–∞–º–µ—á–∞–Ω–∏—è:**
- –ï—Å–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø—É—Å—Ç–æ–π, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è `undefined`
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –º–∞—Ä–∫–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–π
- –¢—Ä–µ–±—É–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

### 3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤—Ä—É—á–Ω—É—é

```typescript
const addManualItem = async () => {
  const customAsin = `manual-${Date.now()}`
  
  const newItem: WishlistItem = {
    asin: customAsin,
    title: manualItem.title.trim(),
    price: manualItem.price.trim(),
    img: manualItem.img,
    url: manualItem.url.trim(),
    affiliate: manualItem.url,
    comment: manualItem.comment.trim(),
    isManual: true,
    alternativeLinks: []
  }
  
  // –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î —á–µ—Ä–µ–∑ PUT /api/wishlists/{wishlistId}
}
```

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:**
- `title` - –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ (–Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º)
- `url` - —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ç–æ–≤–∞—Ä (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å URL)

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è:**
- `price` - —Ü–µ–Ω–∞ —Ç–æ–≤–∞—Ä–∞
- `img` - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (base64 –∏–ª–∏ URL)
- `comment` - –ø–æ–∂–µ–ª–∞–Ω–∏–µ/–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- –ü—Ä–∏ —É—Å–ø–µ—Ö–µ: –æ–±–Ω–æ–≤–ª—è–µ—Ç `wishlist`, `tempItems`, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ
- –ü—Ä–∏ –æ—à–∏–±–∫–µ: –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ, –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è

**ASIN –≥–µ–Ω–µ—Ä–∞—Ü–∏—è:**
```typescript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫:
`manual-${Date.now()}` // –ù–∞–ø—Ä–∏–º–µ—Ä: manual-1708953456123
```

---

### 4. –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –∫–æ–º–ø—å—é—Ç–µ—Ä–∞

```typescript
const handleManualImageUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {
  const file = e.target.files?.[0]
  const reader = new FileReader()
  reader.onload = (event) => {
    const base64 = event.target?.result as string
    setManualItem(prev => ({ ...prev, img: base64 }))
  }
  reader.readAsDataURL(file)
}
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `e` (React.ChangeEvent<HTMLInputElement>) - —Å–æ–±—ã—Ç–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Ñ–∞–π–ª –≤ base64
- –û–±–Ω–æ–≤–ª—è–µ—Ç `manualItem.img`
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç—ã: jpg, png, gif, webp, svg –∏ —Ç.–¥.
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –±—Ä–∞—É–∑–µ—Ä–∞ (–æ–±—ã—á–Ω–æ 5-10GB)

---

### 5. –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ URL

```typescript
const loadManualImageFromUrl = async () => {
  const response = await fetch(manualItem.img)
  const blob = await response.blob()
  const reader = new FileReader()
  reader.onload = (event) => {
    const base64 = event.target?.result as string
    setManualItem(prev => ({ ...prev, img: base64 }))
  }
  reader.readAsDataURL(blob)
}
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** –Ω–µ—Ç (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç `manualItem.img`)

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ URL
- –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤ base64
- –û–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä–µ–≤—å—é

**–û—à–∏–±–∫–∏:**
- –ï—Å–ª–∏ URL –Ω–µ –≤–∞–ª–∏–¥–µ–Ω - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
- CORS –æ—à–∏–±–∫–∏ –æ—Ç–ª–æ–≤—è—Ç—Å—è –∫–∞–∫ –æ—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏

---

## üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î

### API Endpoint (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)

```bash
PUT /api/wishlists/{wishlistId}
Content-Type: application/json

{
  "items": [
    {
      "asin": "manual-1708953456123",
      "title": "–ù–∞–∑–≤–∞–Ω–æ–ø—Ä–æ–¥—É–∫—Ç–∞",
      "price": "99.99 AED",
      "img": "data:image/png;base64,...",
      "url": "https://noon.com/...",
      "affiliate": "https://noon.com/...",
      "comment": "–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é —á–µ—Ä–Ω—ã–π —Ü–≤–µ—Ç",
      "isManual": true,
      "alternativeLinks": []
    },
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
  ]
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "wishlist": {
    "id": "...",
    "items": [...],
    "updated_at": "2024-02-25T10:30:00Z"
  }
}
```

---

## üé® React State Management

### –°–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Å—ã–ª–æ–∫

```typescript
const [editingUrl, setEditingUrl] = useState<string | null>(null)
const [editUrlValue, setEditUrlValue] = useState('')

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
// –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ ‚úèÔ∏è-–∫–Ω–æ–ø–∫—É:
setEditingUrl(item.asin)
setEditUrlValue(item.url)

// –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ ‚úì:
saveEditedUrl(item.asin)
```

### –°–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

```typescript
const [editingComment, setEditingComment] = useState<string | null>(null)
const [commentValue, setCommentValue] = useState('')

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
// –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ "‚úèÔ∏è –î–æ–±–∞–≤–∏—Ç—å":
setEditingComment(item.asin)
setCommentValue(item.comment || '')

// –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ ‚úì:
saveComment(item.asin)
```

### –°–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞

```typescript
const [showManualItemForm, setShowManualItemForm] = useState(false)
const [manualItem, setManualItem] = useState({
  title: '',
  price: '',
  img: '',
  url: '',
  comment: ''
})
const [uploadingManualImage, setUploadingManualImage] = useState(false)

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
// –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "‚úèÔ∏è –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä –≤—Ä—É—á–Ω—É—é":
setShowManualItemForm(true)

// –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞:
addManualItem()
```

---

## üåê –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø—É–±–ª–∏—á–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è

–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/share/[...slug]/page.tsx`:

```tsx
{item.comment && (
  <div className="mb-3 p-3 bg-gradient-to-br from-amber-50 to-orange-50 rounded-lg border-l-4 border-amber-400">
    <p className="text-xs font-semibold text-amber-900 mb-1">üí¨ –ü–æ–∂–µ–ª–∞–Ω–∏–µ:</p>
    <p className="text-sm text-amber-900">{item.comment}</p>
  </div>
)}
```

**–í—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–¥:** –∫–Ω–æ–ø–∫–∞–º–∏ –¥–µ–π—Å—Ç–≤–∏–π (Amazon, Noon —Å—Å—ã–ª–∫–∏)

**–í–∏–¥–∏–º–æ—Å—Ç—å:** —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–µ—É–ø–∞–∫–æ–≤ —Ç–æ–≤–∞—Ä–æ–≤ (–∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º)

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π (title, url)
- ‚úÖ Trim whitespace
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ URL

### –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

‚ö†Ô∏è **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –æ–±—ä–µ–∫—Ç–∞ items (–º–∞–∫—Å–∏–º—É–º N —Ç–æ–≤–∞—Ä–æ–≤)
- –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è HTML –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö (–∑–∞—â–∏—Ç–∞ –æ—Ç XSS)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ URL

---

## üêõ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –°—Ü–µ–Ω–∞—Ä–∏–∏ –æ—à–∏–±–æ–∫

1. **–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ URL:**
   ```typescript
   "–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ URL"
   ```

2. **–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞:**
   ```typescript
   "–ù–µ —É–¥–∞–ª–æ—Å—å –¥–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä" / server error message
   ```

3. **–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è:**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–π —Ç–æ–≤–∞—Ä
   - –¢—Ä–µ–±—É–µ—Ç —è–≤–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è"

---

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

1. **–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:**
   - –°–µ–π—á–∞—Å —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ base64 –≤ JSON
   - ‚ö†Ô∏è –ú–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –±–æ–ª—å—à–æ–º—É —Ä–∞–∑–º–µ—Ä—É –¥–∞–Ω–Ω—ã—Ö
   - üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å S3 –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤

2. **–ó–∞–≥—Ä—É–∑–∫–∞:**
   - Base64 –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
   - üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –¥–æ–±–∞–≤–∏—Ç—å progress bar

3. **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:**
   - –•—Ä–∞–Ω—è—Ç—Å—è –≤ —Ç–æ–º –∂–µ JSON - –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ
   - –ù–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –ë–î

---

## üöÄ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ

```typescript
// –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
const newItem: WishlistItem = {
  asin: `manual-${Date.now()}`,
  title: "iPhone 15 Pro",
  price: "4,499 AED",
  img: "https://...",
  url: "https://noon.com/...",
  affiliate: "https://noon.com/...",
  comment: "256GB, Silver, please",
  isManual: true,
  alternativeLinks: []
}

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
setTempItems([...tempItems, newItem])
setChangedItems(prev => new Set(prev).add(newItem.asin))
saveItems() // –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î
```

### –ü—Ä–∏–º–µ—Ä 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑Image–Ω –±—ã–ª–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ

```typescript
if (manualItem.img && manualItem.img.startsWith('data:')) {
  // –≠—Ç–æ base64 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
  // –ú–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ –ë–î
}
```

---

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Ç–æ–≤–∞—Ä–∞

```
–°–æ–∑–¥–∞–Ω–∏–µ ‚Üí –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ ‚Üí –ë–î ‚Üí –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ ‚Üí –†–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ
```

### –î–ª—è —Ä—É—á–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞:

1. **–°–æ–∑–¥–∞–Ω–∏–µ** - —Ñ–æ—Ä–º–∞ —Ä—É—á–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
2. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ** - `addManualItem()` ‚Üí API PUT call
4. **–ë–î** - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `wishes.items`
5. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ** - –≤–∏–¥–Ω–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—É–±–ª–∏—á–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
6. **–†–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ** - –º–æ–∂–Ω–æ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫ –æ–±—ã—á–Ω—ã–π —Ç–æ–≤–∞—Ä

